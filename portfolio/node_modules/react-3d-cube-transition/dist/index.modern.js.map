{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\nimport styles from './styles.module.css'\n\nconst cubeStyles = {\n  scene: {\n    width: \"100%\",\n    height: \"100%\",\n    border: \"1px solid #CCC\",\n    perspective: \"1000000px\",\n    transform: \"scale(1)\",\n  },\n  cube: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"relative\",\n    transformStyle: \"preserve-3d\",\n    transform: \"translateZ(-100vh)\",\n    transition: \"all 1s 0.5s\",\n  },\n  cubeFace: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"absolute\",\n    transition: \"all 1s 0.5s\",\n  },\n  \"show-front\":  { transform: \"translateZ(-100vh) rotateY(   0deg);\" },\n  \"show-right\":  { transform: \"translateZ(-100vh) rotateY( -90deg);\" },\n  \"show-back\":   { transform: \"translateZ(-100vh) rotateY(-180deg);\" },\n  \"show-left\":   { transform: \"translateZ(-100vh) rotateY(  90deg);\" },\n  \"show-top\":    { transform: \"translateZ(-100vh) rotateX( -90deg);\" },\n  \"show-bottom\": { transform: \"translateZ(-100vh) rotateX(  90deg);\" },\n  \"cube__face--front\":  (disp=50) => { return { transform: \"rotateY(  0deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--right\":  (disp=50) => { return { transform: \"rotateY( 90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--back\":   (disp=50) => { return { transform: \"rotateY(180deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--left\":   (disp=50) => { return { transform: \"rotateY(-90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--top\":    (disp=50) => { return { transform: \"rotateX( 90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--bottom\": (disp=50) => { return { transform: \"rotateX(270deg) translateZ(calc(100vh - \"+ disp +\"vw))\" } },\n};\n\nconst zoomOutAnimation = [\n  {transform: \"scale(1)\", perspective: 1000000},\n  {transform: \"scale(0.60)\", perspective: 5000},\n  {transform: \"scale(0.60)\", perspective: 5000},\n  {transform: \"scale(1)\", perspective: 1000000}\n]\n\nexport class CubeTransition extends React.PureComponent {\n  constructor() {\n    super();\n\n    this.state = {\n      currentFace: \"front\"\n    }\n\n    this.sceneRef = React.createRef();\n    this.cubeAnimation = null;\n    \n    this._renderChildren = this._renderChildren.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.sceneRef.current.animate(zoomOutAnimation, 2000);\n    // this.sceneRef.current.style.animationTimingFunction = \"cubic-bezier(0.68, -0.6, 0.32, 1.6)\";\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // You don't have to do this check first, but it can help prevent an unneeded render\n    if (nextProps.face !== this.state.currentFace) {\n      this.setState({ currentFace: nextProps.face });\n    }\n  }\n\n  render() {\n    return ( \n      <div ref={this.sceneRef} className={[styles.scene, \"\"].join(\" \")}>\n        <div /*style={{...cubeStyles.cube, ...cubeStyles[\"show-\"+this.state.currentFace]}}*/ \n          className={[styles.cube, styles[\"show-\"+this.state.currentFace]].join(\" \")}>\n          {this._renderChildren()}\n          {this._renderContent()}\n        </div>\n      </div>\n    )\n  }\n\n  _renderChildren() {\n    let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n                          {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n    return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n\n      let deg;\n      let translateZ;\n      if(side == \"left\") {\n        deg = \"-90deg\"\n        translateZ = \"50vh\"\n      } else if (side == \"right\") {\n        deg = \"90deg\"\n        translateZ = \"calc(100vw - 50vh)\"\n      }\n\n      let sideFaceStyle;\n      if(resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = {...resizeCube};\n        sideFaceStyle.transform = resizeCube.transform\n                                    .replace(\"{{deg}}\", deg)\n                                    .replace(\"{{translateZ}}\", translateZ)\n        \n      } else {\n        sideFaceStyle = {}\n      }\n\n      let spanFaceStyle;\n      if([\"top\", \"bottom\"].includes(side)) {\n        spanFaceStyle = {height: \"100vw\"}\n      }\n\n      let finalStyles = {\n        ...cubeStyles.cubeFace, \n        ...cubeStyles[\"cube__face--\" + side](),\n        ...(this.props[side+\"CSS\"] || {}),\n        ...spanFaceStyle,\n        // ...sideFaceStyle\n      }\n\n      return (\n        <div style={finalStyles}></div>\n      )\n    })\n  }\n\n  _renderContent() {\n    let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n                        {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n\n    return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n      let deg;\n      let translateZ;\n      if(side == \"left\") {\n        deg = \"-90deg\"\n        translateZ = \"50vh\"\n      } else if (side == \"right\") {\n        deg = \"90deg\"\n        translateZ = \"calc(100vw - 50vh)\"\n      }\n\n      let sideFaceStyle;\n      if(resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = {...resizeCube};\n        sideFaceStyle.transform = resizeCube.transform\n                                    .replace(\"{{deg}}\", deg)\n                                    .replace(\"{{translateZ}}\", translateZ)\n      } else {\n        sideFaceStyle = {}\n      }\n      \n      \n      let contentStyles = {\n        ...cubeStyles.cubeFace, \n        ...cubeStyles[\"cube__face--\" + side](this.props.contentElevation + 50),\n        // ...{sideFaceStyle}\n      }\n\n      return (\n        <div style={contentStyles}>{this.props[side + \"Page\"]}</div>\n      )\n    })\n  }\n\n  // _renderChildren() {\n  //   let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n  //                         {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n  //   return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n\n  //     let deg;\n  //     let translateZ;\n  //     if(side == \"left\") {\n  //       deg = \"-90deg\"\n  //       translateZ = \"50vh\"\n  //     } else if (side == \"right\") {\n  //       deg = \"90deg\"\n  //       translateZ = \"calc(100vw - 50vh)\"\n  //     }\n\n  //     let sideFaceStyle;\n  //     if(resizeCube && [\"left\", \"right\"].includes(side)) {\n  //       sideFaceStyle = {...resizeCube};\n  //       sideFaceStyle.transform = resizeCube.transform\n  //                                   .replace(\"{{deg}}\", deg)\n  //                                   .replace(\"{{translateZ}}\", translateZ)\n        \n  //     } else {\n  //       sideFaceStyle = {}\n  //     }\n\n  //     let finalStyles = {\n  //       ...cubeStyles.cubeFace, \n  //       ...cubeStyles[\"cube__face--\" + side](),\n  //       ...(this.props[side+\"CSS\"] || {}),\n  //       ...sideFaceStyle\n  //     }\n\n  //     return (\n  //       <div style={finalStyles}></div>\n  //     )\n  //   })\n  // }\n\n  // _renderContent() {\n  //   let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n  //                       {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n\n  //   return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n  //     let deg;\n  //     let translateZ;\n  //     if(side == \"left\") {\n  //       deg = \"-90deg\"\n  //       translateZ = \"50vh\"\n  //     } else if (side == \"right\") {\n  //       deg = \"90deg\"\n  //       translateZ = \"calc(100vw - 50vh)\"\n  //     }\n\n  //     let sideFaceStyle;\n  //     if(resizeCube && [\"left\", \"right\"].includes(side)) {\n  //       sideFaceStyle = {...resizeCube};\n  //       sideFaceStyle.transform = resizeCube.transform\n  //                                   .replace(\"{{deg}}\", deg)\n  //                                   .replace(\"{{translateZ}}\", translateZ)\n  //     } else {\n  //       sideFaceStyle = {}\n  //     }\n      \n      \n  //     let contentStyles = {\n  //       ...cubeStyles.cubeFace, \n  //       ...cubeStyles[\"cube__face--\" + side](this.props.contentElevation + 50),\n  //       ...{sideFaceStyle}\n  //     }\n\n  //     return (\n  //       <div style={contentStyles}>{this.props[side + \"Page\"]}</div>\n  //     )\n  //   })\n  // }\n}\n\n// export const ExampleComponent = ({ text }) => {\n//   return <div className={styles.test}>Example Component: {text}</div>\n// }\n"],"names":["cubeStyles","scene","width","height","border","perspective","transform","cube","position","transformStyle","transition","cubeFace","disp","zoomOutAnimation","CubeTransition","state","currentFace","sceneRef","React","createRef","cubeAnimation","_renderChildren","bind","componentDidUpdate","current","animate","componentWillReceiveProps","nextProps","face","setState","render","styles","join","_renderContent","resizeCube","includes","map","side","deg","translateZ","sideFaceStyle","replace","spanFaceStyle","finalStyles","props","contentStyles","contentElevation","PureComponent"],"mappings":"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"}