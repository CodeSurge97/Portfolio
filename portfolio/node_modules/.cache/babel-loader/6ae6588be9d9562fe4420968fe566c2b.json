{"ast":null,"code":"import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar styles = {\n  \"test\": \"_3ybTi\",\n  \"scene\": \"_2SuLm\",\n  \"cube\": \"_2pK8S\",\n  \"show-front\": \"_3GN9F\",\n  \"show-right\": \"_15TEt\",\n  \"show-back\": \"_HqpHk\",\n  \"show-left\": \"_3eGbE\",\n  \"show-top\": \"_XUhix\",\n  \"show-bottom\": \"_1PxQg\",\n  \"bgImage\": \"_2p6SK\",\n  \"ctext\": \"_6UA0m\",\n  \"cube__face\": \"_1Z85w\",\n  \"cube__face--top\": \"_24Us9\",\n  \"cube__face--bottom\": \"_3e5wn\",\n  \"cube__face--front\": \"_2NVAu\",\n  \"cube__face--right\": \"_11jFV\",\n  \"cube__face--back\": \"_3-cL0\",\n  \"cube__face--left\": \"_3n-O_\",\n  \"cube__text\": \"_1s_Jc\",\n  \"zoomOut\": \"_31Z79\"\n};\nvar cubeStyles = {\n  scene: {\n    width: \"100%\",\n    height: \"100%\",\n    border: \"1px solid #CCC\",\n    perspective: \"1000000px\",\n    transform: \"scale(1)\"\n  },\n  cube: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"relative\",\n    transformStyle: \"preserve-3d\",\n    transform: \"translateZ(-100vh)\",\n    transition: \"all 1s 0.5s\"\n  },\n  cubeFace: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"absolute\",\n    transition: \"all 1s 0.5s\"\n  },\n  \"show-front\": {\n    transform: \"translateZ(-100vh) rotateY(   0deg);\"\n  },\n  \"show-right\": {\n    transform: \"translateZ(-100vh) rotateY( -90deg);\"\n  },\n  \"show-back\": {\n    transform: \"translateZ(-100vh) rotateY(-180deg);\"\n  },\n  \"show-left\": {\n    transform: \"translateZ(-100vh) rotateY(  90deg);\"\n  },\n  \"show-top\": {\n    transform: \"translateZ(-100vh) rotateX( -90deg);\"\n  },\n  \"show-bottom\": {\n    transform: \"translateZ(-100vh) rotateX(  90deg);\"\n  },\n  \"cube__face--front\": function cube__faceFront(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateY(  0deg) translateZ(\" + disp + \"vw)\"\n    };\n  },\n  \"cube__face--right\": function cube__faceRight(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateY( 90deg) translateZ(\" + disp + \"vw)\"\n    };\n  },\n  \"cube__face--back\": function cube__faceBack(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateY(180deg) translateZ(\" + disp + \"vw)\"\n    };\n  },\n  \"cube__face--left\": function cube__faceLeft(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateY(-90deg) translateZ(\" + disp + \"vw)\"\n    };\n  },\n  \"cube__face--top\": function cube__faceTop(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateX( 90deg) translateZ(\" + disp + \"vw)\"\n    };\n  },\n  \"cube__face--bottom\": function cube__faceBottom(disp) {\n    if (disp === void 0) {\n      disp = 50;\n    }\n\n    return {\n      transform: \"rotateX(270deg) translateZ(calc(100vh - \" + disp + \"vw))\"\n    };\n  }\n};\nvar zoomOutAnimation = [{\n  transform: \"scale(1)\",\n  perspective: 1000000\n}, {\n  transform: \"scale(0.60)\",\n  perspective: 5000\n}, {\n  transform: \"scale(0.60)\",\n  perspective: 5000\n}, {\n  transform: \"scale(1)\",\n  perspective: 1000000\n}];\n\nvar CubeTransition = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(CubeTransition, _React$PureComponent);\n\n  function CubeTransition() {\n    var _this;\n\n    _this = _React$PureComponent.call(this) || this;\n    _this.state = {\n      currentFace: \"front\"\n    };\n    _this.sceneRef = React.createRef();\n    _this.cubeAnimation = null;\n    _this._renderChildren = _this._renderChildren.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = CubeTransition.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.sceneRef.current.animate(zoomOutAnimation, 2000);\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.face !== this.state.currentFace) {\n      this.setState({\n        currentFace: nextProps.face\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.sceneRef,\n      className: [styles.scene, \"\"].join(\" \")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [styles.cube, styles[\"show-\" + this.state.currentFace]].join(\" \")\n    }, this._renderChildren(), this._renderContent()));\n  };\n\n  _proto._renderChildren = function _renderChildren() {\n    var _this2 = this;\n\n    var resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ? {\n      width: \"100vh\",\n      transform: \"rotateY({{deg}}) translateZ({{translateZ}})\",\n      transition: \"width 0.5s\"\n    } : false;\n    return [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map(function (side) {\n      var deg;\n      var translateZ;\n\n      if (side == \"left\") {\n        deg = \"-90deg\";\n        translateZ = \"50vh\";\n      } else if (side == \"right\") {\n        deg = \"90deg\";\n        translateZ = \"calc(100vw - 50vh)\";\n      }\n\n      var sideFaceStyle;\n\n      if (resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = _extends({}, resizeCube);\n        sideFaceStyle.transform = resizeCube.transform.replace(\"{{deg}}\", deg).replace(\"{{translateZ}}\", translateZ);\n      } else {\n        sideFaceStyle = {};\n      }\n\n      var spanFaceStyle;\n\n      if ([\"top\", \"bottom\"].includes(side)) {\n        spanFaceStyle = {\n          height: \"100vw\"\n        };\n      }\n\n      var finalStyles = _extends({}, cubeStyles.cubeFace, cubeStyles[\"cube__face--\" + side](), _this2.props[side + \"CSS\"] || {}, spanFaceStyle);\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: finalStyles\n      });\n    });\n  };\n\n  _proto._renderContent = function _renderContent() {\n    var _this3 = this;\n\n    var resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ? {\n      width: \"100vh\",\n      transform: \"rotateY({{deg}}) translateZ({{translateZ}})\",\n      transition: \"width 0.5s\"\n    } : false;\n    return [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map(function (side) {\n      var deg;\n      var translateZ;\n\n      if (side == \"left\") {\n        deg = \"-90deg\";\n        translateZ = \"50vh\";\n      } else if (side == \"right\") {\n        deg = \"90deg\";\n        translateZ = \"calc(100vw - 50vh)\";\n      }\n\n      var sideFaceStyle;\n\n      if (resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = _extends({}, resizeCube);\n        sideFaceStyle.transform = resizeCube.transform.replace(\"{{deg}}\", deg).replace(\"{{translateZ}}\", translateZ);\n      } else {\n        sideFaceStyle = {};\n      }\n\n      var contentStyles = _extends({}, cubeStyles.cubeFace, cubeStyles[\"cube__face--\" + side](_this3.props.contentElevation + 50));\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: contentStyles\n      }, _this3.props[side + \"Page\"]);\n    });\n  };\n\n  return CubeTransition;\n}(React.PureComponent);\n\nexport { CubeTransition };","map":{"version":3,"sources":["../src/index.js"],"names":["cubeStyles","scene","width","height","border","perspective","transform","cube","position","transformStyle","transition","cubeFace","disp","zoomOutAnimation","CubeTransition","React","currentFace","componentDidUpdate","componentWillReceiveProps","nextProps","face","render","styles","_renderChildren","resizeCube","side","deg","translateZ","sideFaceStyle","spanFaceStyle","finalStyles","_renderContent","contentStyles"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styles from './styles.module.css'\n\nconst cubeStyles = {\n  scene: {\n    width: \"100%\",\n    height: \"100%\",\n    border: \"1px solid #CCC\",\n    perspective: \"1000000px\",\n    transform: \"scale(1)\",\n  },\n  cube: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"relative\",\n    transformStyle: \"preserve-3d\",\n    transform: \"translateZ(-100vh)\",\n    transition: \"all 1s 0.5s\",\n  },\n  cubeFace: {\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"absolute\",\n    transition: \"all 1s 0.5s\",\n  },\n  \"show-front\":  { transform: \"translateZ(-100vh) rotateY(   0deg);\" },\n  \"show-right\":  { transform: \"translateZ(-100vh) rotateY( -90deg);\" },\n  \"show-back\":   { transform: \"translateZ(-100vh) rotateY(-180deg);\" },\n  \"show-left\":   { transform: \"translateZ(-100vh) rotateY(  90deg);\" },\n  \"show-top\":    { transform: \"translateZ(-100vh) rotateX( -90deg);\" },\n  \"show-bottom\": { transform: \"translateZ(-100vh) rotateX(  90deg);\" },\n  \"cube__face--front\":  (disp=50) => { return { transform: \"rotateY(  0deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--right\":  (disp=50) => { return { transform: \"rotateY( 90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--back\":   (disp=50) => { return { transform: \"rotateY(180deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--left\":   (disp=50) => { return { transform: \"rotateY(-90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--top\":    (disp=50) => { return { transform: \"rotateX( 90deg) translateZ(\"+ disp +\"vw)\" } },\n  \"cube__face--bottom\": (disp=50) => { return { transform: \"rotateX(270deg) translateZ(calc(100vh - \"+ disp +\"vw))\" } },\n};\n\nconst zoomOutAnimation = [\n  {transform: \"scale(1)\", perspective: 1000000},\n  {transform: \"scale(0.60)\", perspective: 5000},\n  {transform: \"scale(0.60)\", perspective: 5000},\n  {transform: \"scale(1)\", perspective: 1000000}\n]\n\nexport class CubeTransition extends React.PureComponent {\n  constructor() {\n    super();\n\n    this.state = {\n      currentFace: \"front\"\n    }\n\n    this.sceneRef = React.createRef();\n    this.cubeAnimation = null;\n    \n    this._renderChildren = this._renderChildren.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.sceneRef.current.animate(zoomOutAnimation, 2000);\n    // this.sceneRef.current.style.animationTimingFunction = \"cubic-bezier(0.68, -0.6, 0.32, 1.6)\";\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // You don't have to do this check first, but it can help prevent an unneeded render\n    if (nextProps.face !== this.state.currentFace) {\n      this.setState({ currentFace: nextProps.face });\n    }\n  }\n\n  render() {\n    return ( \n      <div ref={this.sceneRef} className={[styles.scene, \"\"].join(\" \")}>\n        <div /*style={{...cubeStyles.cube, ...cubeStyles[\"show-\"+this.state.currentFace]}}*/ \n          className={[styles.cube, styles[\"show-\"+this.state.currentFace]].join(\" \")}>\n          {this._renderChildren()}\n          {this._renderContent()}\n        </div>\n      </div>\n    )\n  }\n\n  _renderChildren() {\n    let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n                          {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n    return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n\n      let deg;\n      let translateZ;\n      if(side == \"left\") {\n        deg = \"-90deg\"\n        translateZ = \"50vh\"\n      } else if (side == \"right\") {\n        deg = \"90deg\"\n        translateZ = \"calc(100vw - 50vh)\"\n      }\n\n      let sideFaceStyle;\n      if(resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = {...resizeCube};\n        sideFaceStyle.transform = resizeCube.transform\n                                    .replace(\"{{deg}}\", deg)\n                                    .replace(\"{{translateZ}}\", translateZ)\n        \n      } else {\n        sideFaceStyle = {}\n      }\n\n      let spanFaceStyle;\n      if([\"top\", \"bottom\"].includes(side)) {\n        spanFaceStyle = {height: \"100vw\"}\n      }\n\n      let finalStyles = {\n        ...cubeStyles.cubeFace, \n        ...cubeStyles[\"cube__face--\" + side](),\n        ...(this.props[side+\"CSS\"] || {}),\n        ...spanFaceStyle,\n        // ...sideFaceStyle\n      }\n\n      return (\n        <div style={finalStyles}></div>\n      )\n    })\n  }\n\n  _renderContent() {\n    let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n                        {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n\n    return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n      let deg;\n      let translateZ;\n      if(side == \"left\") {\n        deg = \"-90deg\"\n        translateZ = \"50vh\"\n      } else if (side == \"right\") {\n        deg = \"90deg\"\n        translateZ = \"calc(100vw - 50vh)\"\n      }\n\n      let sideFaceStyle;\n      if(resizeCube && [\"left\", \"right\"].includes(side)) {\n        sideFaceStyle = {...resizeCube};\n        sideFaceStyle.transform = resizeCube.transform\n                                    .replace(\"{{deg}}\", deg)\n                                    .replace(\"{{translateZ}}\", translateZ)\n      } else {\n        sideFaceStyle = {}\n      }\n      \n      \n      let contentStyles = {\n        ...cubeStyles.cubeFace, \n        ...cubeStyles[\"cube__face--\" + side](this.props.contentElevation + 50),\n        // ...{sideFaceStyle}\n      }\n\n      return (\n        <div style={contentStyles}>{this.props[side + \"Page\"]}</div>\n      )\n    })\n  }\n\n  // _renderChildren() {\n  //   let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n  //                         {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n  //   return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n\n  //     let deg;\n  //     let translateZ;\n  //     if(side == \"left\") {\n  //       deg = \"-90deg\"\n  //       translateZ = \"50vh\"\n  //     } else if (side == \"right\") {\n  //       deg = \"90deg\"\n  //       translateZ = \"calc(100vw - 50vh)\"\n  //     }\n\n  //     let sideFaceStyle;\n  //     if(resizeCube && [\"left\", \"right\"].includes(side)) {\n  //       sideFaceStyle = {...resizeCube};\n  //       sideFaceStyle.transform = resizeCube.transform\n  //                                   .replace(\"{{deg}}\", deg)\n  //                                   .replace(\"{{translateZ}}\", translateZ)\n        \n  //     } else {\n  //       sideFaceStyle = {}\n  //     }\n\n  //     let finalStyles = {\n  //       ...cubeStyles.cubeFace, \n  //       ...cubeStyles[\"cube__face--\" + side](),\n  //       ...(this.props[side+\"CSS\"] || {}),\n  //       ...sideFaceStyle\n  //     }\n\n  //     return (\n  //       <div style={finalStyles}></div>\n  //     )\n  //   })\n  // }\n\n  // _renderContent() {\n  //   let resizeCube = [\"back\", \"front\", \"top\", \"bottom\"].includes(this.state.currentFace) ?\n  //                       {width: \"100vh\", transform: \"rotateY({{deg}}) translateZ({{translateZ}})\", transition: \"width 0.5s\" } : false\n\n  //   return  [\"back\", \"front\", \"left\", \"right\", \"top\", \"bottom\"].map((side) => {\n  //     let deg;\n  //     let translateZ;\n  //     if(side == \"left\") {\n  //       deg = \"-90deg\"\n  //       translateZ = \"50vh\"\n  //     } else if (side == \"right\") {\n  //       deg = \"90deg\"\n  //       translateZ = \"calc(100vw - 50vh)\"\n  //     }\n\n  //     let sideFaceStyle;\n  //     if(resizeCube && [\"left\", \"right\"].includes(side)) {\n  //       sideFaceStyle = {...resizeCube};\n  //       sideFaceStyle.transform = resizeCube.transform\n  //                                   .replace(\"{{deg}}\", deg)\n  //                                   .replace(\"{{translateZ}}\", translateZ)\n  //     } else {\n  //       sideFaceStyle = {}\n  //     }\n      \n      \n  //     let contentStyles = {\n  //       ...cubeStyles.cubeFace, \n  //       ...cubeStyles[\"cube__face--\" + side](this.props.contentElevation + 50),\n  //       ...{sideFaceStyle}\n  //     }\n\n  //     return (\n  //       <div style={contentStyles}>{this.props[side + \"Page\"]}</div>\n  //     )\n  //   })\n  // }\n}\n\n// export const ExampleComponent = ({ text }) => {\n//   return <div className={styles.test}>Example Component: {text}</div>\n// }\n"]},"metadata":{},"sourceType":"module"}